<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta property="og:title" content="Model Zero" />
    <meta property="og:description" content="여기를 눌러 링크를 확인하세요." />
    <meta property="og:image" content="https://www.modelzero.kr/img/og.png" />
    <meta property="og:url" content="https://www.modelzero.kr" />
    <meta property="og:type" content="website" />
    <title>Model Zero</title>
    <link rel="icon" href="./img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <script src="./script/jquery-3.6.0.js"></script>
</head>
<body>
    <!-- 인트로 -->
    <div id="intro">
      <h1 id="typing-text"></h1>
    </div>

    <!-- 메인 -->
    <div id="main-content">
      <div class="custom-cursor"></div> <!-- 마우스따라다니는 원 -->
      <a href="https://pf.kakao.com/_mIxiYG/chat" target="_blank" rel="noopener noreferrer"><button id="chatButton"><img src="./img/chatbot.png" alt=""><img src="./img/chattxt.svg" alt=""></button> </a>
      <button id="topButton" style="display: none;"><img src="./img/arrow.svg" alt="">Top</button> <!-- 탑버튼 -->

      <!-- header -->
      <div id="header"></div>
      <section>
        
      <div class="popup">
        <div class="popupBox">
          <div class="popupContent">
  
          </div>
          <div class="popupCheck">
            <input type="checkbox" id="popAgree" name="agree">오늘 하루 그만보기
            <img src="./img/popupX.svg" alt="">
          </div>
        </div>
      </div>

        <!-- main section -->
        <div class="main">
          <iframe class="background-video" src="https://www.youtube.com/embed/vDBoutMScGU?autoplay=1&loop=1&playlist=vDBoutMScGU&mute=1&controls=0&showinfo=0&modestbranding=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
          </iframe>
        </div>

        <div class="section1">
          <div class="section1Wrap">
            <div class="sec1WrapBox">
              <div class="sec1_txt">
                <h3>무인커피머신</h3>
                <h2>Ultimate Brew<br>System</h2>
                <p>어디에서든, 언제든 가장 간편하게 커피를 즐기세요.<br>
                  모델제로, 궁극적인 커피 추출 시스템으로<br>
                  모든 순간을 더욱 간편하게.</p>
                <button>view more</button>
              </div>
            </div>
          </div>
          <div class="sec1_list">
            <div class="sec1_list1">
              <div class="sec1_list_imgBox">
                <img src="./img/sec1-list_img1.svg" alt="">
              </div>
              <h2>활용도 높은 스크린</h2>
              <p>대형 32인치 모니터, 27인치 터치패널 사용으로<br>다양한 홍보영상, 이미지 활용가능</p>
            </div>
            <div class="sec1_list2">
              <div class="sec1_list_imgBox">
                <img src="./img/sec1-list_img2.svg" alt="">
              </div>
              <h2>국내 최초 컵디스펜서</h2>
              <p>슬라이딩 방식으로 머신을 처음 이용하는<br>고객도 간편하게 사용 가능</p>
            </div>
            <div class="sec1_list3">
              <div class="sec1_list_imgBox">
                <img src="./img/sec1-list_img3.svg" alt="">
              </div>
              <h2>모든종류의 결제 지원</h2>
              <p>IC / MS 는 물론 삼성페이, 카카오페이,<br>네이버페이, 지역화폐, 애플페이등 모두 사용 가능</p>
            </div>
          </div>
          <div class="sec1_img">
            <div>
              <h2>국내최고<br>최대스펙</h2>
              <div class="sec1_img_txt">
                <p>국내 최고 최대용량,<br>재료 사용가능으로 100가지<br>이상의 메뉴를 만들 수 있습니다.</p>
              </div>
            </div>
            <div>
              <h2>자체개발<br>탄산 디스펜서</h2>
              <div class="sec1_img_txt">
                <p>자체 개발 탄산디스펜서<br>내장으로 고품질 스파클링<br>에이드 음료 제조가 가능합니다.</p>
              </div>
            </div>
            <div>
              <h2>15Bar 브로멕<br>64MM 그라인더</h2>
              <div class="sec1_img_txt">
                <p>고압, 고온의 추출이 가능한 브로멕과<br>그라인더를 사용하여 사람이 만드는<br>수준의 에스프레소를 추출해 냅니다.</p>
              </div>
            </div>
            <div>
              <h2>제빙기 컴프레셔<br>3년 무상보증</h2>
              <div class="sec1_img_txt">
                <p>전국 A/S망 운영으로<br>전문성을 갖춘 정비사들이<br>빠른 사후처리와 CS응대를 합니다.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="section2">
          <h2>Youtube</h2>
          <h3>모델제로 시연영상</h3>
          <div class="section2_video">
            <iframe width="560" height="315" 
            src="https://www.youtube.com/embed/zU-bYMBqTlI?si=zJQCNELrtG0n9Ew4&autoplay=1&mute=1&loop=1&playlist=zU-bYMBqTlI" 
            title="YouTube video player" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            referrerpolicy="strict-origin-when-cross-origin" 
            allowfullscreen>
        </iframe>
          </div>
        </div>
        <div class="section3">
          <h2>Photo</h2>
          <h3>설치 사례</h3>
          <div class="section3Box">
            <div class="section3_txt1">
              <div>
                <h2><span>24</span><span>H</span></h2>
                <p>A/S 발생 당일처리 원칙</p>
              </div>
              <div>
                <h2><span>4.9</span><span>K</span></h2>
                <p>4,960명의 회원 채널</p>
              </div>
            </div>
            <div class="section3_img">
              <img src="./img/section3_img.svg" alt="">
            </div>
            <div class="section3_txt2">
              <div>
                <h2><span>7</span><span>C</span></h2>
                <p>전국 7개 서비스센터 운영</p>
              </div>
              <div>
                <h2><span>22</span><span>D</span></h2>
                <p>대리점 운영 확장</p>
              </div>
            </div>
          </div>
        </div>
        <div class="section4">
          <h2>Contact</h2>
          <h3>문의하기</h3>
          <p>문의 남겨주시면 빠르게 연락드리겠습니다</p>

          <form>
            <label for="name">성함*</label>
            <input type="text" id="name" name="name" required>

            <label for="phone">연락처*</label>
            <input type="tel" id="phone" name="phone" required>

            <label for="email">Email</label>
            <input type="email" id="email" name="email">

            <label for="message">문의내용* (설치예정 주소, 예정일 등)</label>
            <textarea id="message" name="message" required></textarea>

            <label for="text">개인정보동의</label>
            <div class="privacy">
              <div class="privacy-textBox">
                <div class="privacy-text">
                  개인정보 수집 및 이용 동의서
                  [개인정보 수집 및 이용에 대한 안내]

                  [주식회사 좁은길] (이하 "회사")는 관련 법령에 따라 개인정보 보호를 중요하게 생각하며, 이용자의 개인정보를 보호하기 위해 최선을 다하고 있습니다. 아래와 같이 개인정보를 수집 및 이용하는 데 동의를 요청드립니다.

                  1. 개인정보 수집 항목 및 이용 목적
                  회사는 다음과 같은 목적을 위해 최소한의 개인정보를 수집 및 이용합니다.

                  수집 항목   이용 목적
                  성명, 연락처(이메일, 전화번호)   회원가입, 문의 응대, 서비스 제공
                  아이디, 비밀번호   본인 확인 및 서비스 이용
                  결제정보(카드번호, 계좌정보)   서비스 이용 요금 결제
                  접속 IP, 쿠키, 서비스 이용 기록   서비스 분석 및 품질 개선
                  2. 개인정보 보유 및 이용 기간
                  회사는 원칙적으로 개인정보 수집 및 이용 목적이 달성된 후에는 해당 정보를 지체 없이 파기합니다. 다만, 관계 법령에 따라 일정 기간 보관해야 하는 경우는 다음과 같습니다.

                  보존 항목   보존 기간   보존 근거
                  계약 또는 청약철회 기록   5년   전자상거래 등에서의 소비자 보호에 관한 법률
                  대금결제 및 재화 공급 기록   5년   전자상거래 등에서의 소비자 보호에 관한 법률
                  소비자 불만 또는 분쟁처리 기록   3년   전자상거래 등에서의 소비자 보호에 관한 법률
                  3. 개인정보 제공 및 위탁
                  회사는 원칙적으로 이용자의 동의 없이 개인정보를 외부에 제공하지 않습니다. 다만, 아래와 같은 경우 개인정보를 제3자에게 제공할 수 있습니다.

                  법령에 의해 요구되는 경우

                  이용자가 사전에 동의한 경우

                  서비스 제공을 위해 필요한 경우 (예: 결제 처리, 배송 서비스)

                  또한, 원활한 서비스 제공을 위해 일부 업무를 외부 업체에 위탁할 수 있으며, 이에 대한 상세한 내용은 홈페이지 개인정보처리방침에서 확인할 수 있습니다.

                  4. 동의 거부 권리 및 불이익 안내
                  이용자는 개인정보 제공에 대한 동의를 거부할 권리가 있습니다. 다만, 필수 정보 제공에 동의하지 않을 경우 서비스 이용이 제한될 수 있습니다.

                  본인은 위 내용을 충분히 숙지하였으며, 이에 동의합니다.
                </div>
              </div>
              <input type="checkbox" id="agree" name="agree">
              <label for="agree">개인정보 수집 동의</label>
            </div>

            <button type="submit">Send
              <img src="./img/buttom_effect.png" alt="">
              <p>Send</p>
            </button>
          </form>
        </div>

      </section>


      <!-- 푸터 -->
      <div id="footer"></div>

    </div>

  </body>
<script>
  // 팝업
  document.addEventListener("DOMContentLoaded", function () {
    initNoticePage();
  });

  document.querySelector("form").addEventListener("submit", async function (e) {
    e.preventDefault();

    const name = document.getElementById("name").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const email = document.getElementById("email").value.trim();
    const message = document.getElementById("message").value.trim();
    const agree = document.getElementById("agree").checked;
    const termsText = document.querySelector(".privacy-text").innerText;

    if (!name || !phone || !message) {
      alert("필수 항목을 입력해주세요.");
      return;
    }

    if (!agree) {
      alert("개인정보 수집에 동의해주세요.");
      return;
    }

    const payload = {
      title: `[Model Zero 문의] ${name}님 문의`,
      content: `
        <p><strong>성함:</strong> ${name}</p>
        <p><strong>연락처:</strong> ${phone}</p>
        <p><strong>문의 내용:</strong><br>${message.replace(/\n/g, "<br>")}</p>
      `,
      terms : termsText,
      agree: agree,
      replyTo: email
    };

    try {
      const res = await fetch("https://api.narrowroad-model.com/model_home_page?func=send-email", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });

      const result = await res.json();
      if (res.ok) {
        alert("✅ 문의가 성공적으로 접수되었습니다.");
        document.querySelector("form").reset();
      } else {
        alert(`❌ 오류: ${result.message}`);
      }
    } catch (err) {
      console.error("❌ 전송 실패:", err);
      alert("서버 오류로 인해 전송에 실패했습니다.");
    }
  });


  // 초기 실행
  async function initNoticePage() {
    const popupContent = document.querySelector(".popupContent");
    noticeList = await fetchNotices();  // ✅ 데이터 받아오기
    let img;

    if (noticeList[0]?.images[0]) {
      img = noticeList[0].images[0];
    }
    console.log("img ",img);
    if (popupContent && img) {
      popupContent.style.backgroundImage = `url(${img})`;
    } else {
      document.querySelector(".popup").style.display = "none";
    }

    await updatePaths();                      // ✅ 이미지/링크 경로 수정
  }

  // 공지사항 조회
  async function fetchNotices() {
    try {
      return await $.ajax({
        url: 'https://api.narrowroad-model.com/model_home_page?func=get-posts&contentType=popup',
        method: 'GET',
        dataType: 'json',
      });
    } catch (err) {
      console.error("❌ 팝업 불러오기 실패:", err);
      return [];
    }
  }

  // 오늘 날짜 문자열
  function getTodayKey() {
    const today = new Date();
    return today.toISOString().split('T')[0]; // "2025-03-27"
  }

  // 팝업 보여줄지 결정
  window.addEventListener("DOMContentLoaded", () => {
    const savedDate = localStorage.getItem("hidePopupDate");
    const today = getTodayKey();
    if (savedDate !== today) {
      document.querySelector(".popup").style.display = "flex";
    }
  });

  // 닫기 버튼 클릭 처리
  document.querySelector(".popupCheck img").addEventListener("click", () => {
    const isChecked = document.getElementById("popAgree").checked;
    const today = getTodayKey();

    if (isChecked) {
      localStorage.setItem("hidePopupDate", today);
    }

    document.querySelector(".popup").style.display = "none";
  });

</script>
<script src="./script/common.js"></script>
</html>
